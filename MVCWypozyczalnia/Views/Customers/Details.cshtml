@model MVCWypozyczalnia.Models.CustomerAndAddress

@{
    ViewBag.Title = "Szczegóły";
}

<h2>Szczegóły</h2>

<div>
    <h4>Klient</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
           Imię
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CurrentCustomer.Imie)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CurrentCustomer.Nazwisko)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CurrentCustomer.Nazwisko)
        </dd>

        <dt>
            E-mail
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CurrentCustomer.E_mail)
        </dd>

        <dt>
            Karta kredytowa
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CurrentCustomer.Nr_karty_kredytowej)  
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CurrentCustomer.Telefon)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CurrentCustomer.Telefon)
        </dd>  
        <br />
        <dt>Adres:  </dt> <dd> @Html.ActionLink("Dodaj adres", "Create","Addresses", new { id = Model.CurrentCustomer.ID },null)</dd>
        
        <dd></dd> 
        @foreach(var address in Model.Addresslist)
        { 
            <br />
        <dt>
            @Html.DisplayNameFor(model => address.Typ)
        </dt>

        <dd>
            @Html.DisplayFor(model => address.Typ)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => address.Ulica)
        </dt>

        <dd>
            @Html.DisplayFor(model => address.Ulica)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => address.Kod)
        </dt>

        <dd>
            @Html.DisplayFor(model => address.Kod)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => address.Miasto)
        </dt>

        <dd>
            @Html.DisplayFor(model => address.Miasto)
        </dd>
            <dt></dt>
    <dd> @Html.ActionLink("Edytuj adres", "Edit", "Addresses", new { id = address.ID },null)</dd>
        }    
        </dl>
</div>
<hr />
<h4>Historia wypożyczeń</h4>
<table class="table">
    <tr>
        <th>
            Marka
        </th>
        <th>
            Model
        </th>
        <th>
            Data wynajmu
        </th>
        <th>
            Data zwrotu
        </th>
        <th>
            Cena
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.CurrentCustomer.Rental)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Car.Marka)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Car.Model)
            </td>
            <td>
                @String.Format("{0:dd.MM.yyyy}", item.Data_wynajmu)
            </td>
            <td>
                @String.Format("{0:dd.MM.yyyy}", item.Data_zwrotu)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Cena)
            </td>
        </tr>
    }

</table>
<p>
    @Html.ActionLink("Powrót", "Index")  |
    @Html.ActionLink("Edytuj", "Edit", new { id = Model.CurrentCustomer.ID }) 
</p>
